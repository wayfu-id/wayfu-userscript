// ==UserScript==
// @name         WayFu - Easy Follow Up
// @description  WhatsApp Easy Follow Up.
// @date         2024-04-20
// @copyright    2018, Rizal Nurhidayat (https://github.com/rzlnhd)
// @license      CC BY-NC-ND 4.0; https://creativecommons.org/licenses/by-nc-nd/4.0/
// @icon         https://wayfu.id/v4/assets/wayfu-icon.webp
// @homepage     https://wayfu.id/
// @supportURL   https://wayfu.id/
// @version      5.0.0
// @author       Rizal Nurhidayat (https://github.com/rzlnhd)
// @match        https://web.whatsapp.com/*
// @grant        GM_addStyle
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_deleteValue
// @grant        GM_listValues
// @grant        GM_xmlhttpRequest
// @grant        GM_getResourceText
// @grant        GM_getResourceURL
// @grant        GM_log
// @grant        GM_openInTab
// @grant        GM_setClipboard
// @grant        GM_info
// @grant        GM_notification
// @connect      wayfu.id
// @require      https://unpkg.com/@wayfu/simple-wapi@latest/dist/index.min.js
// @require      https://unpkg.com/@wayfu/simple-xlsx@latest/dist/index.min.js
// @require      https://unpkg.com/@wayfu/wayfu-dom@latest/dist/wayfu-dom.min.js
// @require      https://unpkg.com/@wayfu/waydown@latest/dist/index.min.js
// @updateURL    https://wayfu.id/v4/update.meta.js
// @downloadURL  https://wayfu.id/v4/wayfu-install.user.js
// @resource ico https://wayfu.id/v4/assets/wayfu-icon.webp
// @resource pnl https://wayfu.id/v4/assets/wayfu-view.html
// @resource clr https://wayfu.id/v4/assets/wayfu-colors.json
// @resource css https://wayfu.id/v4/assets/wayfu-style.min.css
// ==/UserScript==

"use strict";var __webpack_modules__={497:(e,t,s)=>{s.a(e,(async(e,t)=>{try{var n=s(211);await n.A.init(),t()}catch(e){t(e)}}),1)},211:(e,t,s)=>{s.d(t,{A:()=>I});const n=WAPI;var r=s.n(n);const a=DOM;var i=s.n(a);const o=XLSX;var l=s.n(o);const c=Waydown;var u=s.n(c);class d extends Date{addDays(e){let t=new d(this.valueOf());return t.setDate(t.getDate()+e),t}addMonths(e){let t=new d(this.valueOf());return t.setMonth(t.getMonth()+Number(e)),t}}const h=(e,t,s=2)=>{if(!s)return null;let n=(t=t||{})[e];if(n)return n;s-=1;for(let r of Object.keys(t))t[r]&&"object"==typeof t[r]&&(n=h(e,t[r],s));return n},p=[{element:"#wayfuPanel .menus",type:"click",event:"tabMenu"},{element:"#wayfuPanel textarea",type:"input",event:"updateText"},{element:"#_mode",type:"click",event:"textPreview"},{element:"#useImage",type:"click",event:"useImage"},{element:"#getFile",type:"change",event:"loadData"},{element:"#imgFile",type:"change",event:"imagePreview"},{element:"#_deleteImg",type:"click",event:"imagePreview"},{element:"#wayfuToggle",type:"click",event:"toggleApp"},{element:"._input input[type='range']",type:"input",event:"inputRange"},{element:"._input input[type='checkbox']",type:"change",event:"inputChecks"},{element:"._input select",type:"change",event:"inputSelects"},{element:"#_blast",type:"click",event:"runTasks"},{element:"div#app",type:"click",event:"checkChat"}],f=[{type:"path",data:{class:"fill0",d:"M84 3c1,0 2,1 3,1 7,3 13,8 19,13 5,5 10,12 13,19 3,7 4,15 4,23 0,6 0,11 -2,16 -1,5 -3,10 -5,14l8 31 -32 -8c-4,3 -9,4 -14,6 -4,1 -9,1 -14,1l0 0c-6,0 -11,0 -16,-2l2 -5c1,1 2,1 3,1 3,1 7,1 11,1 2,0 4,0 6,0 3,-1 5,-1 7,-2 2,0 4,-1 7,-2 2,-1 4,-1 6,-3l1 -1 3 1 22 6 -6 -22 0 -2 1 -2c1,-2 2,-4 3,-7 1,-2 2,-4 2,-6 1,-3 1,-5 2,-7 0,-3 0,-5 0,-8 0,-3 0,-7 -1,-11 -1,-3 -2,-6 -3,-10l0 0c-2,-3 -3,-6 -5,-9 -2,-3 -4,-6 -7,-8 -2,-3 -5,-5 -8,-7 -3,-2 -6,-3 -9,-5l0 0c-1,0 -1,0 -1,0l0 -6zm-29 68c-1,-2 -3,-3 -4,-5 -3,-3 -6,-6 -9,-10 -17,-20 4,-40 20,-51 -6,1 -12,2 -19,5 -13,4 -25,14 -30,30 -1,1 -1,1 -1,2 -4,16 -3,29 2,39 5,13 15,22 22,26l19 -36zm7 -1c-5,-5 -10,-10 -16,-17 -20,-25 33,-51 33,-51 -15,-5 -61,-1 -72,38 -13,45 20,70 31,74l24 -44z"}},{type:"path",data:{class:"fill1",d:"M93 126l-1 0c0,0 0,0 0,1 -5,1 -9,1 -14,1l0 0c-5,0 -10,-1 -15,-2l1 0 0 0c5,0 10,0 14,-2 5,-1 10,-3 14,-5l12 3c-3,2 -7,3 -11,4l0 0zm-14 -116l0 -4c0,0 -2,1 -6,3 -11,7 -34,22 -31,38 2,-19 37,-37 37,-37z"}},{type:"path",data:{class:"fill2",fillRule:"nonzero",d:"M62 84l0 -8 -24 44c-9,-2 -32,-19 -34,-50 -2,35 25,55 34,58l24 -44z"}}];class g{constructor(e){this.app=e}_setProp(e,t=!0){e=((e,t=!0)=>{let s={};if(!e)return s;if("string"==typeof e?s=JSON.parse(e):Array.isArray(e)?e.forEach(((e,t)=>s[t]=e)):"object"==typeof e&&(s=e),0!==Object.keys(s).length)for(const e in s)s[e]=t?(n=s[e],r=void 0,"string"==typeof n&&(n=("string"==typeof(r=n)?isNaN(r)||isNaN(parseFloat(r)):"number"!=typeof r)?(e=>"string"==typeof e&&"Invalid Date"!==new Date(e).toString()&&!isNaN(new Date(e)))(n)?new d(n):n:Number(n)),n):s[e];var n,r;return s})(e,t);for(let t in e)this.hasOwnProperty(t)&&(this[t]=e[t]);return this}_serialize(e){if("object"==typeof e){let t=[];for(let s in e)e.hasOwnProperty(s)&&t.push(s+"="+encodeURI(e[s]));return t.join("&")}return e.toString?e.toString():e}_find(e,t){return h(e,this,t)}}class m extends g{constructor(){super()}get appInfo(){return this.getInfo("script")}get managerName(){return"object"!=typeof GM_info?"function"==typeof GM_getMetadata?"Scriptish":"undefined"!=typeof GM_setValue&&"undefined"==typeof GM_getResourceText&&"undefined"==typeof GM_getResourceURL&&"undefined"==typeof GM_openInTab&&"undefined"==typeof GM_setClipboard?"NinjaKit":"Native":void 0!==GM_info.uuid?"Greasemonkey":void 0!==GM_info.scriptHandler?"Tampermonkey":void 0}getInfo(e=""){return GM_info?""===e?GM_info:h(e,GM_info):null}getResource(e,t="text"){return"undefined"!=typeof GM_getResourceText&&"text"===t?GM_getResourceText(e):"undefined"!=typeof GM_getResourceURL&&"url"===t?GM_getResourceURL(e):void 0}deleteValue(e){if("undefined"!=typeof GM_deleteValue){const t=GM_listValues();for(const s of t)e&&e===s&&GM_deleteValue(s)}}setValue(e,t){if("undefined"!=typeof GM_setValue)if("object"!=typeof e)"string"==typeof e&&GM_setValue(e,t);else for(let t in e)GM_setValue(t,e[t])}getValue(e,t=null){if("undefined"!=typeof GM_listValues&&"undefined"!=typeof GM_getValue){const s=GM_listValues();if(0!==s.length&&s.some((t=>e===t)))return GM_getValue(e,t)}return t}request(e){e.url=e.url||this.appInfo.homepage,e.method=e.method||"GET",e.headers=e.headers||{},e.timeout=e.timeout||2e4,(e.data||"POST"==e.method)&&(e.method="POST",e.data=this.serialize(e.data||{}),e.headers=Object.assign({},e.headers,{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}));const t=e.onload,s=e.onerror,n=e.ontimeout,r=e.onabort;e.onload=function(e){t(e)},e.onerror=function(e){console.log(`request error: ${e.error||"unknown error"}`),s(e)},e.ontimeout=function(e){console.log(`request error: ${e.error||"timed out"}`),n(e)},e.onabort=function(e){console.log(`request error: ${e.error||"aborted"}`),r(e)},"undefined"!=typeof GM_xmlhttpRequest?GM_xmlhttpRequest(e):console.log("XHR not Allowed!")}}class y{constructor(e){this.app=e,this.WAPI=e.WAPI,this.DOM=e.DOM}_clone(){return Object.assign(Object.create(this),this)}_patch(e){return e}_init(){return this}}class w extends Date{addDays(e){let t=new w(this.valueOf());return t.setDate(t.getDate()+e),t}addMonths(e){let t=new w(this.valueOf());return t.setMonth(t.getMonth()+Number(e)),t}}class b extends Array{get isEmpty(){return this.length<=0}get nonEmptyValue(){return this.filter((e=>!!e))}get first(){return this.isEmpty?void 0:this.at(0)}get last(){return this.isEmpty?void 0:this.at(this.length-1)}changeIndex(e,t){if(t>=this.length){let e=t-this.length+1;for(;e--;)this.push(void 0)}return this.splice(t,0,this.splice(e,1)[0]),this}countValue(e){let t=0;return this.forEach((s=>{t+=s===e?1:0})),t}isOnArray(e){return this.some((t=>e===t))}static split(e,t){let s=e.split(t);return new b(...s)}static create(e){return new b(...Array.from(e))}}class v extends b{constructor(e="",t=!1){return super(),t?this.create(e):this.get(e)}get childNodes(){return this.isEmpty?void 0:this.first.childNodes}get parent(){return this.isEmpty?void 0:this.first.parentNode}get nextSibling(){return this.isEmpty?void 0:this.first.nextSibling}get classList(){return this.isEmpty?void 0:this.first.classList}create(e){if(!e)return this;if(Array.isArray(e)){for(let t of e)("object"==typeof t||t.tag)&&this.createElement(e);return this}return this.createElement(e)}get(e){return e?"string"==typeof e?this.getElement(e):e instanceof v?e:((t=e)instanceof Document||t instanceof Window||t instanceof HTMLElement?this.push(e):e instanceof NodeList&&e.forEach((e=>this.push(e))),this):this;var t}matches(e){let t=v.get(e),{length:s}=t;if(t.isEmpty)return!1;for(;--s>=0&&t.at(s)!==this.first;);return s>-1}getParents(e){const t=e=>v.get(e.parent),s=e=>{let{isEmpty:t,first:s}=e;return!t&&s!==document};let n=this,r=t(n);for(;s(n);n=t(n))e?n.matches(e)&&(r=n):r.unshift(n.first);return r}set(e,t){if("object"==typeof e){for(let t in e)this.set(t,e[t]);return this}const s=(e=>Object.getOwnPropertyNames(this.first.style).some((t=>t===e)))(e),n={[e]:t};return s?this.setStyles(n):this.setProperties(n)}remove(e){const t=e=>v.get(e).first;return e?this.first.removeChild(t(e)):t("body").removeChild(this.first),this}insert(e){var t;return this.first.appendChild((t=e,v.get(t).last)),this}insertTo(e){var t;return(t=e,v.get(t).first).appendChild(this.first),this}insertBefore(e,t=!1){const{first:s,parent:n,childNodes:r}=v.get(e);return t?r.length?s.insertBefore(this.first,r[0]):this.insertTo(e):n.insertBefore(this.first,s),this}insertAfter(e){const{parent:t,nextSibling:s}=v.get(e);return t.insertBefore(this.first,s),this}replace(e){const{parent:t,first:s}=v.get(e);return t.replaceChild(this.first,s),this}createElement(e){const t=(({tag:e,namespace:t})=>t?document.createElementNS(t,e):document.createElement(e))(e);return delete e.tag,this.unshift(t),this.setProperties(e)}getElement(e){if(!this.first&&/^(?:document|window)$/g.test(e))return this.gets(/^document$/g.test(e)?document:window);let t=(this.first||document).querySelectorAll(e);return t.length?(t.forEach((e=>this.push(e))),this):this}setProperties(e){let{namespace:t}=e;delete e.namespace;const s=s=>{for(const r in e)if(e.hasOwnProperty(r))if(t){const t=e=>`-${e.toLocaleLowerCase()}`;let a="viewBox"!==(n=r)?n.replace(/[A-Z]/g,t):n;s.setAttributeNS(null,a,e[r])}else switch(r){case"text":s["innerText"in document?"innerText":"textContent"]=e[r];break;case"html":s.innerHTML=e[r];break;case"class":case"classid":if("array"==typeof e[r])for(let t of e[r])s.classList.add(t);else"string"==typeof e[r]&&(s.className=e[r]);break;case"addClass":s.classList.add(e[r]);break;case"removeClass":s.classList.remove(e[r]);break;case"toggleClass":s.classList.toggle(e[r]);break;case"disabled":s.disabled=e[r];break;case"append":v.get(s).insertTo(e[r]);break;case"prepend":v.get(s).insertBefore(e[r],!0);break;case"before":v.get(s).insertBefore(e[r]);break;case"after":v.get(s).insertAfter(e[r]);break;case"value":s.value=e[r];break;case"dispatch":s.dispatchEvent(e[r]);break;case"replace":v.get(s).replace(e[r]);break;case"event":for(const t in e.event)e.event.hasOwnProperty(t)&&this.onEvent(t,e.event[t]);break;case"callback":e[r](s);break;case"readonly":case"readOnly":s.readOnly=e[r];break;default:s.setAttribute(r,e[r])}var n};return this.isEmpty||(this.length>1?this.forEach((e=>s(e))):s(this.first)),this}setStyles(e){const t=(e,t)=>{if(e)for(const s in t)if(t.hasOwnProperty(s))switch(s){case"zIndex":e.style.zIndex=t[s];break;case"margin":e.style.margin=t[s];break;case"padding":e.style.padding=t[s];break;case"display":e.style.display=t[s];break;default:e.style[s]=t[s]}};return Array.isArray(e)?(e.forEach((({elm:e,props:s})=>{var n;t((n=e,v.get(n).first),s)})),this):(this.isEmpty||(this.length>1?this.forEach((s=>t(s,e))):t(this.first,e)),this)}onEvent(e,t,s=!1){return window.addEventListener&&(this.first||window).addEventListener(e,t,s),this}static create(e,t={}){const s=(e,t)=>Object.assign("string"==typeof e?{tag:e}:e,t);return Array.isArray(e)?(e.every((e=>{let{tag:n,props:r}=e;return r&&typeof r===Object?s(n,{...r,...t}):s(e,t)})),new v(e,!0)):new v(Object.assign(s(e,t)),!0)}static createList(e,t="ol",s={}){let n=v.create(t,s);return Array.isArray(e)&&e.forEach((e=>{if("object"==typeof e){let{title:s,content:r}=e,a=v.create("li",{html:s});Array.isArray(r)&&v.createList(r,t||"ol").insertTo(a),n.insert(a)}else"string"==typeof e&&n.insert(v.create("li",{html:e}))})),n}static createIcon(e,t={}){const s=e=>{let t={};for(const n in e)if("size"!==n)t[n]=e[n];else{let[r,a]=1==(s=e[n]).split(" ").length?[s,s]:s.split(" ");t=Object.assign({},t,{width:r,height:a})}var s;return t},n="http://www.w3.org/2000/svg",r=v.create("svg",{namespace:n,...s(t)});return(Array.isArray(e)?e:[e]).forEach((({type:e,data:t})=>{r.insert(v.create(e,{namespace:n,...s(t)}))})),r}static get(e){return e instanceof v?e:new v(e)}static async has(e,t=10){return new Promise((s=>{let n=setInterval((()=>{let{first:r}=v.get(e);r&&(s(r),clearInterval(n)),(t-=!1)&&(s(!1),clearInterval(n))}),1e3)}))}static addStyle(e,t={}){let s={tag:"style",html:e,append:"head"},n=Object.assign({},s,t);return v.create(n)}}class _{constructor(e,t=!1){this.src=`${e}`.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.rgx={para:/(?=^|\n)(\s+)*([^<]+?)[\n\s]*(?=<|\n|$)/g},this.plain=t}element(e,t,s={}){let n=Object.assign({tag:e,html:t},s);return v.create(n).first.outerHTML}raw(e){return this.highlight(e).replace(/\\([\\\|`*_{}\[\]()#+\-~])/g,"$1")}highlight(e){return this.plain?e:e.replace(/(^|[^A-Za-z\d\\])(([*])|(_)|(~)|`)(\2?)([^<]*?)\2\6(?!\2)(?=\W|_|$)/g,((e,t,s,n,r,a,i,o)=>{const l=i?"code":n?"strong":r?"em":a?"s":"";return`${t}${this.element(l,(e=>this.highlight(e?o.replace(/`/g,""):o))(i))}`}))}link(){return this.src=this.src.replace(/(?:(http(?:s)?)?:\/\/)?((?:([a-z\d-]+?)\.([\.a-z]{2,}?))|((?:[\.\d]{1,3}?){4}?))(\:\d+)?((?:\/[-a-z\d%_.~+]*?)*?)(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?(?=$|\s|\n|<)/gi,((e,...t)=>{let[s,n]=t;return this.element("a",e,{href:e,title:n,alt:n,target:"_blank"})})),this}paragraph(){return this.src=this.src.replace(/(?=^|\n)(\s+)*([^<]+?)[\n\s]*(?=<|\n|$)/g,((e,t,s)=>`${t=t?t.replace(/\n/,"<br/>"):""}${this.element("div",this.raw(s))}`)),this}trim(){return this.src=this.src.trim(),this.src}static toHtml(e,t=!1){return new _(e,t).paragraph().link().trim()}}class E{constructor(){this.main=(e=>{let t=v.get(`#${e}`),s={id:e,classid:"wfu-modal",role:"alert"};return t.isEmpty?v.create("div",s).insertTo("body"):t})("wayfu-modal"),this.element=(e=>{let t=`wfu-content-${this.contens+1}`;return v.create("div",{id:t,classid:"wfu-modal-container"})})()}get contens(){return this.main.childNodes.length}get element(){return this._element}set element(e){this._element=e}addContent(e,t="",s=!1){const n=(e={},t=!1)=>{let s=t?e:Object.assign({href:"#",html:"&times;"},e);return v.create("a",s)};return new Promise((r=>{const a=this.element;if(t&&v.create("h2",{text:t}).insertTo(a),e)if(e instanceof HTMLElement||e instanceof v)v.get(e).insertTo(a);else if("string"==typeof e)v.create("p",{html:e}).insertTo(a);else if("object"==typeof e){let{tag:t,...s}=e;v.create(t||"p",s).insertTo(a)}(e=>{if(!e)return n({classid:"wfu-btn-close img-replace wfu-modal-close"}).onEvent("click",(e=>this.closed(e)));let t=v.create("ul",{classid:"wfu-buttons"}),s={y:{classid:"wfu-btn-ok",text:"Ya"},n:{classid:"wfu-modal-close",text:"Tidak"}};for(let e in s){let a=v.create("li").insertTo(t);n(s[e],!0).onEvent("click",(e=>this.closed(e))).onEvent("click",(t=>r("y"===e))).insertTo(a)}return t})(s).insertTo(a),this.element=a,this.show()}))}remove(e){return 0!==this.contens&&this.main.remove(e),this}show(){this.element.insertTo(this.main),this.main.set({addClass:"is-visible"})}closed(e){if(this instanceof E){const{element:e,main:t}=this,{contens:s}=this.remove(e);t.set({removeClass:s?"":"is-visible"})}}static async alert(e,t=""){return await(new E).addContent(e,t)}static async confirm(e,t=""){return await(new E).addContent(e,t,!0)}static progressPanel(e,t=null){let s=new E,{main:n,element:r}=s,a=(({childNodes:e})=>v.get(e).some((e=>e.classList.contains("progress-panel"))))(n);if(e&&!a)r.set({addClass:"progress-panel"}),[{tag:"h2",text:"Pesanmu sedang dikirim"},{tag:"div",html:"<div class='waBar'></div>",classid:"waProgress"},{tag:"p",html:"Mengirim pesan ke <span class='curPhone'></span> (<span class='curNumb'></span>)"}].forEach((e=>{let{tag:t,...s}=e;v.create(t,s).insertTo(r)})),((e={})=>{let t=Object.assign({href:"#",html:"&times;"},e);return v.create("a",t)})({classid:"wfu-btn-close img-replace"}).onEvent("click",t).insertTo(r),s.element=r,s.show();else if(!e&&a){let{contens:e}=s.remove(".progress-panel");n.set({removeClass:e?"":"is-visible"})}}}const k={forVersion:/^\d+(?:(?:\.|-)\d+[A-Za-z]?)*$/,getVersion:/(?:@version\s*(\d+(?:(?:\.|-)\d+[A-Za-z]?)*))/,phonePattern:/^(?:[\+\d]?[\- \d]{10,})(?:\s|$)/,phoneValue:/^[0\+]*(?:(\d{9,})|([\d]{1,3}(?:[\- ]?[\d]{2,})+))(\s|$)/,datePattern:/\d{1,4}[\/|-|:]\d{1,2}[\/|-|:]\d{2,4}/,formatedDate:/^\d{4}[\/|-|:]\d{1,2}[\/|-|:]\d{1,2}$/,forFilename:/(?!\s*$)\s*(?:(gagal|error)|(?:\(?([0-9]*)\)?)|([^_]*))(?:_|\s|$)/g,xlsxFileCheck:/^app.*\/vnd\.open[^\.]*(?:[^]*\.sheet)$/,phone:/^[0-9]*@c\.us$/},M={downloadBtnSvg:{type:"path",data:{fill:"currentColor",d:"M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"}},checksSvg:{type:"polyline",data:{points:"1 1 5 5 9 1"}},groupDownloadBtnSvg:[{type:"path",data:{fill:"currentColor",d:"M18.948 11.112C18.511 7.67 15.563 5 12.004 5c-2.756 0-5.15 1.611-6.243 4.15-2.148.642-3.757 2.67-3.757 4.85 0 2.757 2.243 5 5 5h1v-2h-1c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.757 2.673-3.016l.581-.102.192-.558C8.153 8.273 9.898 7 12.004 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-2v2h2c2.206 0 4-1.794 4-4a4.008 4.008 0 0 0-3.056-3.888z"}},{type:"path",data:{fill:"currentColor",d:"M13.004 14v-4h-2v4h-3l4 5 4-5z"}}],wayFuSvg:[{type:"path",data:{class:"fill0",d:"M84 3c1,0 2,1 3,1 7,3 13,8 19,13 5,5 10,12 13,19 3,7 4,15 4,23 0,6 0,11 -2,16 -1,5 -3,10 -5,14l8 31 -32 -8c-4,3 -9,4 -14,6 -4,1 -9,1 -14,1l0 0c-6,0 -11,0 -16,-2l2 -5c1,1 2,1 3,1 3,1 7,1 11,1 2,0 4,0 6,0 3,-1 5,-1 7,-2 2,0 4,-1 7,-2 2,-1 4,-1 6,-3l1 -1 3 1 22 6 -6 -22 0 -2 1 -2c1,-2 2,-4 3,-7 1,-2 2,-4 2,-6 1,-3 1,-5 2,-7 0,-3 0,-5 0,-8 0,-3 0,-7 -1,-11 -1,-3 -2,-6 -3,-10l0 0c-2,-3 -3,-6 -5,-9 -2,-3 -4,-6 -7,-8 -2,-3 -5,-5 -8,-7 -3,-2 -6,-3 -9,-5l0 0c-1,0 -1,0 -1,0l0 -6zm-29 68c-1,-2 -3,-3 -4,-5 -3,-3 -6,-6 -9,-10 -17,-20 4,-40 20,-51 -6,1 -12,2 -19,5 -13,4 -25,14 -30,30 -1,1 -1,1 -1,2 -4,16 -3,29 2,39 5,13 15,22 22,26l19 -36zm7 -1c-5,-5 -10,-10 -16,-17 -20,-25 33,-51 33,-51 -15,-5 -61,-1 -72,38 -13,45 20,70 31,74l24 -44z"}},{type:"path",data:{class:"fill1",d:"M93 126l-1 0c0,0 0,0 0,1 -5,1 -9,1 -14,1l0 0c-5,0 -10,-1 -15,-2l1 0 0 0c5,0 10,0 14,-2 5,-1 10,-3 14,-5l12 3c-3,2 -7,3 -11,4l0 0zm-14 -116l0 -4c0,0 -2,1 -6,3 -11,7 -34,22 -31,38 2,-19 37,-37 37,-37z"}},{type:"path",data:{class:"fill2",fillRule:"nonzero",d:"M62 84l0 -8 -24 44c-9,-2 -32,-19 -34,-50 -2,35 25,55 34,58l24 -44z"}}]},x={year:"numeric",month:"long",day:"numeric"};class O extends Date{addDays(e){let t=new O(this.valueOf());return t.setDate(t.getDate()+e),t}addMonths(e){let t=new O(this.valueOf());return t.setMonth(t.getMonth()+Number(e)),t}}const P=e=>"string"==typeof e?!isNaN(e)&&!isNaN(parseFloat(e)):"number"==typeof e;class A{setProperties(e,t=!0){e=this.intoObject(e,t);for(let t in e)this.hasOwnProperty(t)&&(this[t]=e[t]);return this}serialize(e){if("object"==typeof e){let t=[];for(let s in e)e.hasOwnProperty(s)&&t.push(s+"="+encodeURI(e[s]));return t.join("&")}return e.toString?e.toString():e}intoObject(e,t=!0){let s={};if(!e)return s;if("string"==typeof e?s=JSON.parse(e):Array.isArray(e)?e.forEach(((e,t)=>s[t]=e)):"object"==typeof e&&(s=e),0!==Object.keys(s).length)for(const e in s)s[e]=t?(n=s[e],r=void 0,"string"==typeof n&&(n=P(n)?Number(n):"string"!=typeof(r=n)||"Invalid Date"===new Date(r).toString()||isNaN(new Date(r))?n:new O(n)),n):s[e];var n,r;return s}findObjectValue(e,t,s=2){if(!s)return null;let n=(t=t||this)[e];if(n)return n;s-=1;for(let r of Object.keys(t))t[r]&&"object"==typeof t[r]&&(n=this.findObjectValue(e,t[r],s));return n}}class T extends A{constructor(){super()}get appInfo(){return this.getInfo("script")}get managerName(){return"object"!=typeof GM_info?"function"==typeof GM_getMetadata?"Scriptish":"undefined"!=typeof GM_setValue&&"undefined"==typeof GM_getResourceText&&"undefined"==typeof GM_getResourceURL&&"undefined"==typeof GM_openInTab&&"undefined"==typeof GM_setClipboard?"NinjaKit":"Native":void 0!==GM_info.uuid?"Greasemonkey":void 0!==GM_info.scriptHandler?"Tampermonkey":void 0}getInfo(e=""){return GM_info?""===e?GM_info:this.findObjectValue(e,GM_info):null}getResource(e,t="text"){return"undefined"!=typeof GM_getResourceText&&"text"===t?GM_getResourceText(e):"undefined"!=typeof GM_getResourceURL&&"url"===t?GM_getResourceURL(e):void 0}deleteValue(e){if("undefined"!=typeof GM_deleteValue){const t=GM_listValues();for(const s of t)e&&e===s&&GM_deleteValue(s)}}setValue(e,t){"undefined"!=typeof GM_setValue&&GM_setValue(e,t)}getValue(e,t=null){if("undefined"!=typeof GM_listValues&&"undefined"!=typeof GM_getValue){const s=GM_listValues();if(0!==s.length&&s.some((t=>e===t)))return GM_getValue(e,t)}return t}request(e){e.url=e.url||this.appInfo.homepage,e.method=e.method||"GET",e.headers=e.headers||{},e.timeout=e.timeout||2e4,(e.data||"POST"==e.method)&&(e.method="POST",e.data=this.serialize(e.data||{}),e.headers=Object.assign({},e.headers,{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}));const t=e.onload,s=e.onerror,n=e.ontimeout,r=e.onabort;e.onload=function(e){t(e)},e.onerror=function(e){console.log(`request error: ${e.error||"unknown error"}`),s(e)},e.ontimeout=function(e){console.log(`request error: ${e.error||"timed out"}`),n(e)},e.onabort=function(e){console.log(`request error: ${e.error||"aborted"}`),r(e)},"undefined"!=typeof GM_xmlhttpRequest?GM_xmlhttpRequest(e):console.log("XHR not Allowed!")}}const S=new class{constructor(){}getElement(e,t,s){let[n,r]=((e,t)=>"boolean"==typeof e?[null,e]:e?[this.getElement(e),t??!1]:[null,!1])(t,s);return"string"==typeof e?(e=e.trim(),n=n&&n instanceof HTMLElement?n:document,r?n.querySelectorAll(e):n.querySelector(e)):e instanceof HTMLElement||e instanceof NodeList?e:void 0}getParents(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),s=t.length;--s>=0&&t.item(s)!==this;);return s>-1});let s=[],n=this.getElement(e);for(;n&&n!==document;n=n.parentNode)t?n.matches(t)&&s.push(n):s.push(n);return s}createElement(e){let t,s,n;for(const r in e)if(e.hasOwnProperty(r))switch(r){case"tag":s=document.createElement(e[r]);break;case"text":n="innerText"in document?"innerText":"textContent",s[n]=e[r];break;case"html":s.innerHTML=e[r];break;case"classid":if("array"==typeof e[r])for(let t of e[r])s.classList.add(t);else"string"==typeof e[r]&&(s.className=e[r]);break;case"append":t=this.getElement(e[r]),t.appendChild(s);break;case"prepend":t=this.getElement(e[r]),t.childNodes.length&&t.insertBefore(s,t.childNodes[0]),t.appendChild(s);break;case"before":t=this.getElement(e[r]),t.parentNode.insertBefore(s,t);break;case"after":t=this.getElement(e[r]),t.parentNode.insertBefore(s,t.nextSibling);break;case"replace":t=this.getElement(e[r]),t.parentNode.replaceChild(s,t);break;case"event":for(const t in e.event)e.event.hasOwnProperty(t)&&this.onEvent(s,t,e.event[t]);break;case"callback":e[r](s);break;default:s.setAttribute(r,e[r])}return s}createElements(e,t){let s=t?t instanceof window.HTMLElement?t:"object"==typeof t&&null!=t.tag?this.createElement(t):null:"string"==typeof t?this.getElement(t):null;if(Array.isArray(e))for(let t of e)("object"==typeof t||t.tag)&&(s&&(t.append=s),this.createElement(t));return s||this}createListElement(e,t="ol",s={}){let n=this.createElement(Object.assign({tag:t},s));return Array.isArray(e)&&e.forEach((e=>{if("object"==typeof e){let s=this.createElement({tag:"li",html:e.title,append:n});Array.isArray(e.content)&&this.createListElement(e.content,t||"ol",{append:s})}else"string"==typeof e&&this.createElement({tag:"li",html:e,append:n})})),n}createSelectElement(e,t,s){const{id:n,classid:r}=e,a=this.createElement({tag:"select",id:n,classid:r});if(a.append(...(e=>e.map((e=>this.createElement({tag:"option",value:e,text:e}))))(t)),s)for(let e in s)this.onEvent(a,e,s[e]);return a}createCheckElement(e,t){const{id:s,classid:n}=e,r=this.createElement({tag:"input",type:"checkbox",id:s,name:s,classid:n});if(t)for(let e in t)this.onEvent(r,e,t[e]);return r}createLabelElement(e){const{id:t,classid:s,text:n}=e;return this.createElement({tag:"label",for:t,classid:s,text:n})}createSVGElement(e,t={}){const s=(e,t)=>{let s=document.createElementNS("http://www.w3.org/2000/svg",e),n=e=>`-${e.toLocaleLowerCase()}`;for(let e in t){let r="viewBox"===e?e:e.replace(/[A-Z]/g,n);s.setAttributeNS(null,r,t[e])}return s},n=s("svg",t);return(Array.isArray(e)?e:[e]).forEach((e=>{const{type:t,data:r}=e;n.appendChild(s(t,r))})),n}setElementStyle(e,t){const s=e instanceof window.HTMLElement?[e]:this.getElement(e,!0);if(s&&0!==s.length&&s[0])for(const e of s)for(const s in t)if(t.hasOwnProperty(s))switch(s){case"zIndex":e.style.zIndex=t[s];break;case"margin":e.style.margin=t[s];break;case"padding":e.style.padding=t[s];break;case"display":e.style.display=t[s];break;default:e.style[s]=t[s]}return this}setElementsStyle(e,t){return Array.isArray(e)?e.forEach((e=>{this.setElementStyle(e.elm,e.props)})):"string"==typeof e&&this.getElement(e,!0).forEach((e=>{this.setElementStyle(e,t)})),this}setElement(e,t){const s=e instanceof window.HTMLElement?[e]:this.getElement(e,!0);let n;if(s&&0!==s.length&&s[0])for(const e of s)for(const s in t)if(t.hasOwnProperty(s))switch(s){case"text":n="innerText"in document?"innerText":"textContent",e[n]=t[s];break;case"html":e.innerHTML=t[s];break;case"class":e.className=t[s];break;case"addClass":e.classList.add(t[s]);break;case"removeClass":e.classList.remove(t[s]);break;case"toggleClass":e.classList.toggle(t[s]);break;case"disabled":e.disabled=t[s];break;case"value":e.value=t[s];break;case"dispatch":e.dispatchEvent(t[s]);break;case"readonly":case"readOnly":e.readOnly=t[s];break;default:e.setAttribute(s,t[s])}return this}setElements(e=[]){return Array.isArray(e)&&e.forEach((e=>{this.setElement(e.elm,e.props)})),this}hasElement(e,t=10){return new Promise((s=>{let n=setInterval((()=>{let r=this.getElement(e);r&&(s(r),clearInterval(n)),(t-=!1)&&(s(!1),clearInterval(n))}),1e3)}))}insertElement(e,t){return this.getElement(t||"body").appendChild(this.getElement(e)),this}removeElement(e,t){return this.getElement(t||"body").removeChild(this.getElement(e)),t||this}onEvent(e,t,s,n=!1){let r=this.getElement(e);return window.addEventListener&&(r||window).addEventListener(t,s,n),this}eventFire(e,t,s,n={bubbles:!0,composed:!0}){return this.setElement(e,{text:s||"",dispatch:t?new InputEvent(t,n):new MouseEvent("mousedown",n)}),this}addStyle(e,t={}){const s={tag:"style",html:e,append:"head"};return this.createElement(Object.assign({},s,t)),this}},L=new class{constructor(){this.contens=0,this.element=S.createElement({tag:"div",id:"wayfu-modal",classid:"wfu-modal",role:"alert"})}construct(e,t="",s=!1){return new Promise((n=>{let r=`wfu-content-${this.contens+=1}`,a=S.createElement({tag:"div",classid:"wfu-modal-container",id:r});if(t&&S.createElement({tag:"h2",text:t,append:a}),e&&(e instanceof window.HTMLElement?S.insertElement(e,a):"string"==typeof e?S.createElement({tag:"p",html:e,append:a}):"object"==typeof e&&S.createElement(Object.assign({tag:"p",append:a},e))),s){let e=S.createElement({tag:"ul",classid:"wfu-buttons",append:a}),t=[{tag:"a",classid:"wfu-btn-ok",text:"Ya",event:{click:e=>{this.closed(e),n(!0)}}},{tag:"a",classid:"wfu-modal-close",text:"Tidak",event:{click:e=>{this.closed(e),n(!1)}}}];for(let s of t){let t=S.createElement({tag:"li",append:e});S.createElement(Object.assign({},s,{append:t}))}}else S.createElement({tag:"a",href:"#",html:"&times;",classid:"wfu-btn-close img-replace wfu-modal-close",append:a,event:{click:this.closed}});S.onEvent(window,"click",this.closed).insertElement(a,this.element),this.show()}))}async alert(e,t=""){return await this.construct(e,t)}async confirm(e,t=""){return await this.construct(e,t,!0)}progressPanel(e,t=null){if(e){let e=`wfu-content-${this.contens+=1}`,s=S.createElement({tag:"div",classid:"wfu-modal-container progress-panel",id:e}),n=[{tag:"h2",text:"Pesanmu sedang dikirim"},{tag:"div",html:"<div class='waBar'></div>",classid:"waProgress"},{tag:"p",html:"Mengirim pesan ke <span class='curPhone'></span> (<span class='curNumb'></span>)"},{tag:"a",href:"#",html:"&times;",classid:"wfu-btn-close img-replace",event:{click:t}}];s=S.createElements(n,s),S.insertElement(s,"#wayfu-modal"),this.show()}else{let e=S.getElement(".wfu-modal-container.progress-panel"),t=S.getElement(".wfu-modal-container",!0),s=S.getElement("#wayfu-modal");e&&S.removeElement(e,s),s&&0===t.length&&s.classList.remove("is-visible")}}show(){S.getElement("#wayfu-modal")||S.insertElement(this.element),S.getElement("#wayfu-modal").classList.add("is-visible")}closed(e){const t=e.target,s=S.getElement("#wayfu-modal"),n=S.getParents(t,".wfu-modal-container"),r=t.classList.contains("wfu-btn-ok");if(s&&(r||t.classList.contains("wfu-modal-close"))){0!==n.length&&S.removeElement(n[0],s);const e=S.getElement(".wfu-modal-container",!0);s&&0===e.length&&s.classList.remove("is-visible")}}};class C extends Array{get isEmpty(){return this.length<=0}get nonEmptyValue(){return this.filter((e=>!!e))}changeIndex(e,t){if(t>=this.length){let e=t-this.length+1;for(;e--;)this.push(void 0)}return this.splice(t,0,this.splice(e,1)[0]),this}countValue(e){let t=0;return this.forEach((s=>{t+=s===e?1:0})),t}isOnArray(e){return this.some((t=>e===t))}static split(e,t){let s=e.split(t);return new C(...s)}static create(e){return new C(...Array.from((t=e,Array.isArray(t)||"function"==typeof t[Symbol.iterator]?t:Object.keys(t))));var t}}const N=new class extends T{constructor(){super();const e=this.getValue("wayfu-changelog",new C);this.details=0!==e.length?new C(...e):new C}get getChanges(){const{homepage:e}=this.appInfo;return new Promise((t=>{let s={url:`${e}files/changelog.json`,onload:e=>{const{status:s,responseText:n}=e;if(200===s){let e=JSON.parse(n);e=Array.isArray(e)?e:e.changelog,t(e)}else t(200===s)}};this.request(s)}))}get Log(){return this.details}async doUpdate(e){const t=k.getVersion.exec(e)[1],{version:s,name:n,downloadURL:r}=this.appInfo;if(!((e,t)=>{const{forVersion:s}=k;if(!e||!t||0===e.length||0===t.length)return!1;if(e==t)return!0;if(s.test(e)&&s.test(t)){let s=e.includes(".")?".":"-",n=e.split(s).map((e=>P(e)?Number(e):e)),r=t.split(s).map((e=>P(e)?Number(e):e));for(let e=0;e<n.length;++e){if(r.length==e)return!0;if(P(n[e])&&P(r[e])){if(n[e]==r[e])continue;return n[e]>r[e]}{let[t,s]=[Number(/\d+/.exec(n[e])),Number(/\d+/.exec(r[e]))],[a,i]=[/[A-Za-z]/.exec(n[e]),/[A-Za-z]/.exec(r[e])];if(t==s){if(a&&i&&a[0]==i[0])continue;return a&&i?a[0]>i[0]:!!a}return t>s}}}return e>=t})(s,t)){const e=`${n} ${t} sudah tersedia, perbaharui sekarang?`;await L.confirm(e)&&(window.location.href=r)}}async checkUpdate(){const{updateURL:e}=this.appInfo,t=new Promise((t=>{const s={url:`${e}`,onload:e=>{const{status:s,responseText:n}=e;t(200===s&&n)}};this.request(s)}));return this.details=new C(...await this.getChanges),this.save(),this.doUpdate(await t),this}save(){this.setValue("wayfu-changelog",this.details)}},j=new class{constructor(){}async runTasks(e){await(1e3,new Promise((e=>setTimeout(e,1e3)))),console.log("No task currently")}tabMenu(e){const t=e.currentTarget||e.target,s=t.value;v.get("#wayfuPanel .menus").set({removeClass:"active"}).indexOf(t),v.get(t).set({addClass:"active"}),v.get("#wayfuPanel .menu-content").set({display:"none"}),v.get(`#${s}`).set({display:"block"})}textPreview(e){let t=(e.currentTarget||e.target).checked;v.get("#wayfuPanel textarea").forEach((e=>{const s="message"===e.id?"msgPreview":"captPreview",n=((t,{id:s})=>{let{value:n,innerText:r}=e;return t?_.toHtml(n||r,!t):""})(t,e),r=((e,{id:t})=>!e)(t,e);v.get(`#${s}`).set({display:r?"none":"block",html:n}),v.get(e).set({display:r?"block":"none"})}))}updateText(e){const{id:t,value:s,innerText:n}=e.target||e.currentTarget,r=v.get("#_mode").first,a=v.get("#wayfuPanel textarea").every((e=>{let{value:t,innerText:s}=e;return!(t||s)}));a&&r.checked&&r.click(),v.get(r).set({disabled:a})}async useImage(e){const t=e.currentTarget||e.target,s=t.checked?"":"Caption menggunakan pesan",n=t.dataset.captId;v.get(`#${t.value}`).set({disabled:!t.checked}),v.get(`#${n}`).set({disabled:!t.checked,title:s}),v.get("#useCaption").set({disabled:!t.checked})}async loadData(e){await(1e3,new Promise((e=>setTimeout(e,1e3)))),console.log("No task currently")}imagePreview(e){console.log("No task currently")}toggleApp(e){const t=e.currentTarget||e.target,{active:s}=window.WAPI.WebClassesV2,n=(e=>{let t=e.getAttribute("value"),s=e.dataset.target;return v.get(`#${t||s}`)})(t),{first:r}=n,{style:a,scrollHeight:i}=r;n.set({height:a.height?null:`${i}px`}),v.get(t).set({toggleClass:"active"}).set({toggleClass:s})}inputRange(e){console.log("No task currently")}inputChecks(e){console.log("No task currently")}inputSelects(e){console.log("No task currently")}changeLog(e){const t=N.Log.slice(0,5),s=v.create("div",{classid:"wfu-changelog"}).setStyles({overflowY:"scroll"});t.forEach(((e,t)=>{let[n,r]=(({date:e,content:t,version:s},n)=>[t,`${0===n?"WayFu - ":""}Version: ${s} (${((e,t=!0)=>new Date(e).toLocaleDateString("id-ID",Object.assign({},x,{weekday:t?"long":void 0})))(new w(e),1)})`])(e,t),a=v.create("div",{class:"wfu-changelog-items"});v.create("span",{text:r}).insertTo(a),v.createList(n,"ul").insertTo(a),s.insert(a)})),E.alert(s,"Detail Pembaruan.")}async checkChat(e){const t=window.WAPI.Chat.getActive(),{groupDownloadBtnSvg:s}=M,{chatHeader:n,chatControls:r,menu:a,menuDefault:i,item:o,button:l}=window.WAPI.WebClassesV2,c=await v.has(`.${r} span.wfu-link`),u=await v.has(`.${n} .${a}.${i}`);if(u&&t&&t.isGroup){let{groupMetadata:{subject:n,participants:r}}=t;if(!c)return void(e=>{const t=v.create("div",{classid:o}),n=v.create("div",{classid:l,role:"button","data-tab":"6",tabindex:"0","aria-disabled":!1}),r=v.create("span",{title:`Download "${e}"`,"data-testid":"download-alt","data-icon":"download-alt",classid:"wfu-link"}),a=v.createIcon(s,{size:"24"});return r.insert(a),n.insert(r),t.insert(n)})(n).insertBefore(u,!0);if(e.target!==c)return;let a=new b;for(const{contact:e}of r.getModelsArray()){const{id:{user:t},name:s,pushname:n}=e.getContactModel();a.push([n||s||t,t])}console.log(a)}}};class G extends y{constructor(e){return super(e),this._init()}_createButtonMenu(e){const{DOM:t,WAPI:s}=this,{item:n,button:r}=s.WebClasses.V2;let{menuItem:a,menuButton:i,button:o,icon:l}=e;const c=t.create("div",Object.assign(a,{classid:n})),u=t.create(Object.assign({tag:"div"},i,{classid:r})).insertTo(c);return t.create("span",o).insert(t.createIcon(l.svg,l.attr)).insertTo(u),c}_createView(){const{DOM:e,WAPI:t}=this,{menu:s,menuDefault:n}=t.WebClasses.V2,{style:r,name:a,...i}=(({app:e})=>{let{getResource:t,appInfo:s}=e;return Object.assign({html:t("pnl"),style:t("css")},s)})(this),o=(({html:e,version:t},{VERSION:s})=>({id:"wayfuPanel",after:"header",html:e.replace(/VERSION/,t).replace(/WA_VERSION/,s)}))(i,t);let l=e.get("header #wayfuPanel").isEmpty;if(e.get("#wayfuStyle").isEmpty&&e.addStyle(r,{id:"wayfuStyle"}),l){let t=e.get(`header .${s}.${n} span`);e.create("header",o),this._createButtonMenu((e=>({menuItem:{id:"wayfuToggle","data-testid":"menu-bar-wayfu-app","data-target":"wayfuPanel"},menuButton:{role:"button","data-tab":"2",tabindex:"0","aria-disabled":!1,title:`${e}`,"aria-label":`${e}`},button:{"data-testid":"wayfu-app","data-icon":"wayfu-app"},icon:{svg:f,attr:{size:"24",viewBox:"0 0 128 128",class:"wayfu-app-icon"}}}))(a)).insertBefore(t,!0)}}_init(){return this._createView(),this._patch()}_patch(){return Object.defineProperties(this,{Events:{value:{},enumerable:!0},Modal:{value:{},enumerable:!0}}),super._init()}initListener(){p.forEach((e=>{const{element:t,type:s,event:n}=e;DOM.get(t||document).forEach((e=>{DOM.get(e).onEvent(s,(e=>{let t=j[n];if("function"==typeof t)return t(e)}))}))}))}static init(e){return new G(e)}}class I extends m{constructor(e){super(),this.initialize(e)}initialize(e){this.WAPI=r().init(e),this.DOM=i(),this.XLSX=l(),this.Waydown=u(),this.registerPanel(),console.log(this)}registerPanel(){((e,t)=>{let s=e("pnl"),n=e("css"),r=e("ico","url");Object.assign({html:s,style:n,icon:r},t)})(this.getResource,this.appInfo),this.UI=G.init(this)}registerUser(){user.init().gettingData()}registerOptions(){options.init()}async#e(){i().setElementStyle("#wayfuPanel",{"background-color":options.themeColor}).setElement("input#getFile",{accept:[".txt",".csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].join(",")}),i().getElement("#wayfuPanel .menus",!0)[options.activeTab||0].click(),options.openPanel&&i().getElement("#toggleApp").click(),changes.checkUpdate()}debug(e){if(e="boolean"!=typeof e||e,options.setOption("debug",e),e)Object.assign(I.prototype,{options,user,chat,csvFile},window.WAPI);else for(let e of["message","options","user","chat","csvFile",...Object.keys(window.WAPI_V2)])delete I.prototype[e];return this}static async init(){await i().has("div.two")?unsafeWindow.WayFu=new I(unsafeWindow):await I.init()}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__webpack_require__),s.exports}(()=>{var e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};__webpack_require__.a=(r,a,i)=>{var o;i&&((o=[]).d=-1);var l,c,u,d=new Set,h=r.exports,p=new Promise(((e,t)=>{u=t,c=e}));p[t]=h,p[e]=e=>(o&&e(o),d.forEach(e),p.catch((e=>{}))),r.exports=p,a((r=>{var a;l=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var a=[];a.d=0,r.then((e=>{i[t]=e,n(a)}),(e=>{i[s]=e,n(a)}));var i={};return i[e]=e=>e(a),i}}var o={};return o[e]=e=>{},o[t]=r,o})))(r);var i=()=>l.map((e=>{if(e[s])throw e[s];return e[t]})),c=new Promise((t=>{(a=()=>t(i)).r=0;var s=e=>e!==o&&!d.has(e)&&(d.add(e),e&&!e.d&&(a.r++,e.push(a)));l.map((t=>t[e](s)))}));return a.r?c:i()}),(e=>(e?u(p[s]=e):c(h),n(o)))),o&&o.d<0&&(o.d=0)}})(),__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__=__webpack_require__(497);